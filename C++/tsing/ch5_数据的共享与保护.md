



## 对象的生存期



### 静态生存期

* 这种生存期与程序的运行期相同
  * 只有当整个程序结束时，才消失
* 在**文件作用域** 中声明的对象具有这种生存期
* 在函数内部声明静态生存期对象，要冠以关键字static

### 动态生存期

* 开始于声明点
* 结束于命名该标识符的作用域结束处

* 块作用域中声明的，没有用static修饰的对象是动态生存期对象
* 习惯称为局部生存期对象



## 类的静态成员

### 静态数据成员





## 类的友元

一旦声明为朋友 可访问私有成员

在隐藏和效率之间找一个平衡

* 友元是C++提供的一种破坏数据封装和数据隐藏的机制。
* 通过讲一个模块声明为另一个模块的友元，一个模块能够引用到另一个模块中本是被隐藏的信息
* 可以声明友元函数和友元类
* 为了确保数据的完整性，及数据封装与隐藏的原则，建议==慎用==友元。

程序中的友元关系是单向的

* 如果声明B类是A类的友元，B类的成员函数就可以访问A类的私有和保护数据，但A类的成员函数却不能访问B类的私有、保护数据。



### 共享数据的保护

常对象才能调用常函数





### C++程序的一般组织结构

* 一个工程可以划分为多个源文件，例如
  * 类声明文件（.h 文件）
  * 类实现文件（.cpp 文件）
  * 类的使用文件（main() 所在的.cpp 文件）
* 利用工程来组合各个文件



#### 外部变量

* 除了在定义它的源文件中可以使用外，还能被其他文件使用
* 文件作用域中定义的变量，默认情况下都是==外部变量==
* 在其他文件中如果需要使用，需要extern关键字声明

