# 开闭原则



对扩展开放，对修改关闭



添加一个新的功能应该是，在已有代码基础上扩展代码（新增模块、类、方法等），而非修改已有代码（修改模块、类、方法等）



只要没有破坏原有的代码的正常运行，没有破坏原有的单元测试。



在识别出代码可变部分和不可变部分之后，我们要将可变部分封装起来，隔离变化，提供抽象化的不可变接口，给上层系统使用。
当具体的实现发生变化时，我们只需要基于相同的抽象接口，拓展一个新的实现，替换掉老的实现即可，上游系统的代码几乎不需要修改。



最常用来提高代码拓展性的方法有：

1. 多态、
2. 依赖注入、
3. 基于接口而非实现编程
4. 以及大部分设计模式（比如，装饰、策略、模板、职责链、状态等）

